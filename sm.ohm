sm {
  Main = State+
  State = "{" name Enter Step Exit "}"
  Enter = action
  Step = action
  Exit = action
  action =
    | "{}" -- empty
    | "{" #stuff* "}" -- other
  stuff =
    | "{" stuff* "}" -- rec
    | applySyntactic<Next> -- nextStatement
    | ~"{" ~"}" any -- other
  Next = "%next" name
  name = "'" (~"'" any)+ "'"
}
